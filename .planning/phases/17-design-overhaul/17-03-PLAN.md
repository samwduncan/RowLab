---
phase: 17-design-overhaul
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/v2/styles/themes/dark.css
  - src/v2/styles/themes/light.css
  - src/v2/styles/themes/field.css
autonomous: true

must_haves:
  truths:
    - "Dark theme uses warm stone palette (#0F0F0F base, #171717 surface)"
    - "Light theme uses warm stone palette (#FAFAF9 base, #FFFFFF surface)"
    - "Field theme maintains high-contrast amber for outdoor visibility"
    - "All themes reference palette-stone-* variables from tokens.css"
  artifacts:
    - path: "src/v2/styles/themes/dark.css"
      provides: "Dark theme with warm stone colors"
      contains: "palette-stone"
    - path: "src/v2/styles/themes/light.css"
      provides: "Light theme with warm stone colors"
      contains: "palette-stone"
    - path: "src/v2/styles/themes/field.css"
      provides: "Field theme polish"
      contains: "stone-900"
  key_links:
    - from: "dark.css"
      to: "tokens.css"
      via: "palette-stone CSS variables"
      pattern: "var\\(--palette-stone"
---

<objective>
Update all theme files to use the warm stone palette established in 17-01.

Purpose: The theme files currently reference the old cool neutral palette. After 17-01 introduces the warm stone palette in tokens.css, these theme files need to be updated to use the new variables for consistent warm tones across all themes.

Output: Updated dark.css, light.css, and field.css using warm stone palette variables
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/17-design-overhaul/17-CONTEXT.md
@src/v2/styles/tokens.css
@src/v2/styles/themes/dark.css
@src/v2/styles/themes/light.css
@src/v2/styles/themes/field.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update dark.css to use warm stone palette</name>
  <files>src/v2/styles/themes/dark.css</files>
  <action>
Update all references to use the warm stone palette from tokens.css:

**Background Tokens:**
```css
--color-bg-base: var(--palette-stone-950);       /* #0F0F0F warm near-black */
--color-bg-surface: var(--palette-stone-900);    /* #171717 */
--color-bg-surface-elevated: var(--palette-stone-800); /* #1F1F1F */
--color-bg-overlay: rgba(15, 15, 15, 0.8);       /* Warm overlay */
--color-bg-hover: var(--palette-stone-800);
--color-bg-active: var(--palette-stone-700);
```

**Text Tokens:**
```css
--color-text-primary: var(--palette-stone-100);  /* #F5F5F4 warm off-white */
--color-text-secondary: var(--palette-stone-400); /* #A8A29E warm gray */
--color-text-tertiary: var(--palette-stone-500);
--color-text-muted: var(--palette-stone-600);
--color-text-inverse: var(--palette-stone-950);
```

**Border Tokens:**
```css
--color-border-default: var(--palette-stone-700); /* #292524 warm dark */
--color-border-subtle: var(--palette-stone-800);
--color-border-strong: var(--palette-stone-600);
```

**Component Tokens:**
Update card, button, and input tokens to use stone palette:
```css
/* Card */
--color-card-bg: var(--palette-stone-800);
--color-card-border: var(--palette-stone-700);

/* Button - Secondary */
--color-button-secondary-bg: var(--palette-stone-800);
--color-button-secondary-hover: var(--palette-stone-700);
--color-button-secondary-text: var(--palette-stone-200);

/* Input */
--color-input-bg: var(--palette-stone-900);
```

Update shadow tokens to use warmer black:
```css
--shadow-sm: 0 1px 2px rgba(15, 15, 15, 0.3);
--shadow-md: 0 4px 6px -1px rgba(15, 15, 15, 0.4);
--shadow-lg: 0 10px 15px -3px rgba(15, 15, 15, 0.5);
--shadow-xl: 0 20px 25px -5px rgba(15, 15, 15, 0.6);
```

Update file comment to reflect "Rowing Instrument" aesthetic.
  </action>
  <verify>
grep "palette-stone-950" src/v2/styles/themes/dark.css returns match
grep "palette-stone-100" src/v2/styles/themes/dark.css returns match (for text-primary)
grep "rgba(15, 15, 15" src/v2/styles/themes/dark.css returns match (warm shadows)
  </verify>
  <done>
dark.css uses warm stone palette throughout with #0F0F0F base and warm off-white text
  </done>
</task>

<task type="auto">
  <name>Task 2: Update light.css to use warm stone palette</name>
  <files>src/v2/styles/themes/light.css</files>
  <action>
Update light theme to use warm stone palette (inverted):

**Background Tokens:**
```css
--color-bg-base: var(--palette-stone-50);        /* #FAFAF9 warm white */
--color-bg-surface: var(--palette-stone-100);    /* #F5F5F4 */
--color-bg-surface-elevated: #ffffff;
--color-bg-overlay: rgba(250, 250, 249, 0.9);    /* Warm overlay */
--color-bg-hover: var(--palette-stone-200);
--color-bg-active: var(--palette-stone-300);
```

**Text Tokens:**
```css
--color-text-primary: var(--palette-stone-950);  /* #0F0F0F warm near-black */
--color-text-secondary: var(--palette-stone-600);
--color-text-tertiary: var(--palette-stone-500);
--color-text-muted: var(--palette-stone-400);
--color-text-inverse: var(--palette-stone-50);
```

**Border Tokens:**
```css
--color-border-default: var(--palette-stone-300);
--color-border-subtle: var(--palette-stone-200);
--color-border-strong: var(--palette-stone-400);
```

**Component Tokens:**
```css
/* Card */
--color-card-bg: #ffffff;
--color-card-border: var(--palette-stone-200);
--color-card-hover: var(--palette-stone-100);

/* Button - Secondary */
--color-button-secondary-bg: var(--palette-stone-200);
--color-button-secondary-hover: var(--palette-stone-300);
--color-button-secondary-text: var(--palette-stone-900);

/* Input */
--color-input-bg: #ffffff;
--color-input-border: var(--palette-stone-300);
```

Update file comment to reflect warm light theme.
  </action>
  <verify>
grep "palette-stone-50" src/v2/styles/themes/light.css returns match
grep "palette-stone-950" src/v2/styles/themes/light.css returns match (for text-primary)
  </verify>
  <done>
light.css uses warm stone palette with #FAFAF9 base and warm near-black text
  </done>
</task>

<task type="auto">
  <name>Task 3: Polish field.css and ensure stone consistency</name>
  <files>src/v2/styles/themes/field.css</files>
  <action>
Field theme already uses stone colors for text. Ensure consistency and add any missing tokens:

1. Keep the amber background system (high contrast for outdoor use)
2. Verify text colors use stone scale:
```css
--color-text-primary: #1c1917;   /* stone-900 - already correct */
--color-text-secondary: #44403c; /* stone-700 - already correct */
--color-text-tertiary: #57534e;  /* stone-600 - already correct */
--color-text-muted: #78716c;     /* stone-500 - already correct */
```

3. Add rowing semantic color support if missing:
```css
/* Rowing Semantic Accents - high contrast versions for field */
--palette-rowing-water-field: #1d4ed8;     /* blue-700 for visibility */
--palette-rowing-starboard-field: #15803d; /* green-700 */
--palette-rowing-port-field: #b91c1c;      /* red-700 */
--palette-rowing-gold-field: #b45309;      /* amber-700 */
```

4. Ensure component tokens are complete and use stone values:
```css
/* Card */
--color-card-bg: #ffffff;
--color-card-border: var(--palette-stone-200);

/* Input */
--color-input-bg: #ffffff;
--color-input-border: var(--palette-stone-300);
```

5. Update file comment to emphasize "Rowing Instrument" outdoor mode.
  </action>
  <verify>
grep "stone-900" src/v2/styles/themes/field.css returns match (text primary)
grep "amber-700" src/v2/styles/themes/field.css returns match (interactive primary)
  </verify>
  <done>
field.css maintains high-contrast amber while ensuring stone text and complete component tokens
  </done>
</task>

</tasks>

<verification>
1. dark.css uses --palette-stone-950 for bg-base
2. dark.css uses --palette-stone-100 for text-primary
3. light.css uses --palette-stone-50 for bg-base
4. light.css uses --palette-stone-950 for text-primary
5. field.css maintains amber backgrounds with stone text
6. All themes have complete component token coverage
</verification>

<success_criteria>
- Dark theme feels warm, not cold/clinical
- Light theme has same warmth as dark theme, just inverted
- Field theme maintains outdoor visibility with consistent stone text
- No theme has any cool neutral references (old palette-neutral)
- All component tokens (card, button, input) are defined in each theme
</success_criteria>

<output>
After completion, create `.planning/phases/17-design-overhaul/17-03-SUMMARY.md`
</output>
