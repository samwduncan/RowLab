---
phase: 36-dead-code-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/App.jsx
  - src/v2/pages/AchievementsPage.tsx
  - src/v2/pages/AdvancedRankingsPage.tsx
  - src/v2/pages/AthletesPage.tsx
  - src/v2/pages/AttendancePage.tsx
  - src/v2/pages/BetaHome.tsx
  - src/v2/pages/ChallengesPage.tsx
  - src/v2/pages/CoachAvailability.tsx
  - src/v2/pages/coach/CoachDashboard.tsx
  - src/v2/pages/CoachFleet.tsx
  - src/v2/pages/CoachTrainingPage.tsx
  - src/v2/pages/CoachWhiteboard.tsx
  - src/v2/pages/ErgTestsPage.tsx
  - src/v2/pages/LineupBuilderPage.tsx
  - src/v2/pages/MatrixPlannerPage.tsx
  - src/v2/pages/MeDashboard.tsx
  - src/v2/pages/mesh/MeshDashboard.tsx
  - src/v2/pages/publication/PublicationAthletes.tsx
  - src/v2/pages/publication/PublicationDashboard.tsx
  - src/v2/pages/RaceDayCommandCenter.tsx
  - src/v2/pages/RankingsPage.tsx
  - src/v2/pages/RecruitingPage.tsx
  - src/v2/pages/RegattasPage.tsx
  - src/v2/pages/SeatRacingPage.tsx
  - src/v2/pages/timeline/TimelineDashboard.tsx
  - src/v2/pages/training/LiveSessionPage.tsx
  - src/v2/pages/training/SessionDetailPage.tsx
  - src/v2/pages/training/SessionsPage.tsx
  - src/v2/features/athletes/pages/AthleteDetailPage.tsx
  - src/v2/features/athletes/components/roster/AthletesRosterPage.tsx
  - src/v2/features/settings/pages/SettingsPage.tsx
autonomous: true

must_haves:
  truths:
    - "Canvas pages at /app/* render correctly after V2 page deletion"
    - "Build succeeds with zero errors after removing dead V2 page imports from App.jsx"
    - "Baseline bundle size is recorded for comparison in Plan 05"
  artifacts:
    - path: "src/App.jsx"
      provides: "Route definitions with only Canvas + auth + landing imports"
      contains: "CanvasLayout"
    - path: "dist/"
      provides: "Baseline bundle size measurement"
  key_links:
    - from: "src/App.jsx"
      to: "src/v2/pages/canvas/*"
      via: "lazy imports"
      pattern: "import.*canvas/Canvas"
---

<objective>
Remove all 27 non-Canvas V2 pages, 3 feature-specific dead pages, and clean dead imports from App.jsx. Record baseline bundle size before any cleanup.

Purpose: Pages are leaf nodes with no dependents — safest to remove first. Cleaning App.jsx imports prevents build errors from missing modules.
Output: 30 dead page files deleted, App.jsx cleaned of dead imports and duplicate routes, baseline bundle size recorded.
</objective>

<execution_context>
@/home/swd/.claude/get-shit-done/workflows/execute-plan.md
@/home/swd/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/36-dead-code-cleanup/36-RESEARCH.md
@src/App.jsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Record baseline bundle size</name>
  <files>dist/</files>
  <action>
Run `npm run build` and record the total bundle size output. Save the baseline metrics (total JS size, total CSS size, largest chunks) to a temporary file at `.planning/phases/36-dead-code-cleanup/36-BASELINE.md` for comparison in Plan 05.

Format:
```
# Phase 36 Bundle Baseline
Date: [timestamp]
Total JS: [size]
Total CSS: [size]
Largest chunks: [list top 5]
```

Also record the output of:
```bash
du -sh dist/
ls -lhS dist/assets/*.js | head -10
ls -lhS dist/assets/*.css | head -5
```
  </action>
  <verify>File `.planning/phases/36-dead-code-cleanup/36-BASELINE.md` exists with bundle metrics</verify>
  <done>Baseline bundle size recorded for post-cleanup comparison</done>
</task>

<task type="auto">
  <name>Task 2: Delete non-Canvas V2 pages and clean App.jsx</name>
  <files>
    src/App.jsx
    src/v2/pages/*.tsx (27 files)
    src/v2/pages/coach/
    src/v2/pages/mesh/
    src/v2/pages/publication/
    src/v2/pages/timeline/
    src/v2/pages/training/
    src/v2/features/athletes/pages/AthleteDetailPage.tsx
    src/v2/features/athletes/components/roster/AthletesRosterPage.tsx
    src/v2/features/settings/pages/SettingsPage.tsx
  </files>
  <action>
**Step 1: Delete 27 non-Canvas V2 page files.**

Delete these individual files:
- src/v2/pages/AchievementsPage.tsx
- src/v2/pages/AdvancedRankingsPage.tsx
- src/v2/pages/AthletesPage.tsx
- src/v2/pages/AttendancePage.tsx
- src/v2/pages/BetaHome.tsx
- src/v2/pages/ChallengesPage.tsx
- src/v2/pages/CoachAvailability.tsx
- src/v2/pages/CoachFleet.tsx
- src/v2/pages/CoachTrainingPage.tsx
- src/v2/pages/CoachWhiteboard.tsx
- src/v2/pages/ErgTestsPage.tsx
- src/v2/pages/LineupBuilderPage.tsx
- src/v2/pages/MatrixPlannerPage.tsx
- src/v2/pages/MeDashboard.tsx
- src/v2/pages/RaceDayCommandCenter.tsx
- src/v2/pages/RankingsPage.tsx
- src/v2/pages/RecruitingPage.tsx
- src/v2/pages/RegattasPage.tsx
- src/v2/pages/SeatRacingPage.tsx

Delete these directories entirely (all contents):
- src/v2/pages/coach/ (contains CoachDashboard.tsx)
- src/v2/pages/mesh/ (contains MeshDashboard.tsx)
- src/v2/pages/publication/ (contains PublicationAthletes.tsx, PublicationDashboard.tsx)
- src/v2/pages/timeline/ (contains TimelineDashboard.tsx)
- src/v2/pages/training/ (contains LiveSessionPage.tsx, SessionDetailPage.tsx, SessionsPage.tsx)

**IMPORTANT:** Do NOT delete `src/v2/pages/canvas/` — this is the LIVE Canvas pages directory.

**Step 2: Delete 3 feature-specific dead pages.**
- src/v2/features/athletes/pages/AthleteDetailPage.tsx (Canvas uses CanvasAthleteDetailPage)
- src/v2/features/athletes/components/roster/AthletesRosterPage.tsx (dead)
- src/v2/features/settings/pages/SettingsPage.tsx (Canvas uses CanvasSettingsPage)

**Step 3: Clean App.jsx imports.**

Remove all dead lazy import lines (lines 21-45 approximately):
```jsx
// Remove these lines:
const BetaHome = lazy(() => import('@v2/pages/BetaHome'));
const MeDashboard = lazy(() => import('@v2/pages/MeDashboard'));
const CoachDashboard = lazy(() => import('@v2/pages/coach/CoachDashboard'));
const CoachWhiteboard = lazy(() => import('@v2/pages/CoachWhiteboard'));
const CoachFleet = lazy(() => import('@v2/pages/CoachFleet'));
const CoachAvailability = lazy(() => import('@v2/pages/CoachAvailability'));
const V2AthletesPage = lazy(() => import('@v2/pages/AthletesPage'));
const V2AttendancePage = lazy(() => import('@v2/pages/AttendancePage'));
const V2ErgTestsPage = lazy(() => import('@v2/pages/ErgTestsPage'));
const V2LineupBuilderPage = lazy(() => import('@v2/pages/LineupBuilderPage'));
const V2SeatRacingPage = lazy(() => import('@v2/pages/SeatRacingPage'));
const CoachTrainingPage = lazy(() => import('@v2/pages/CoachTrainingPage'));
const RegattasPage = lazy(() => import('@v2/pages/RegattasPage'));
const RaceDayCommandCenter = lazy(() => import('@v2/pages/RaceDayCommandCenter'));
const RankingsPage = lazy(() => import('@v2/pages/RankingsPage'));
const V2SettingsPage = lazy(() => import('@v2/features/settings/pages/SettingsPage'));
const SessionsPage = lazy(() => import('@v2/pages/training/SessionsPage'));
const SessionDetailPage = lazy(() => import('@v2/pages/training/SessionDetailPage'));
const LiveSessionPage = lazy(() => import('@v2/pages/training/LiveSessionPage'));
const AdvancedRankingsPage = lazy(() => import('@v2/pages/AdvancedRankingsPage'));
const MatrixPlannerPage = lazy(() => import('@v2/pages/MatrixPlannerPage'));
const RecruitingPage = lazy(() => import('@v2/pages/RecruitingPage'));
const AchievementsPage = lazy(() => import('@v2/pages/AchievementsPage'));
const ChallengesPage = lazy(() => import('@v2/pages/ChallengesPage'));
const V2AthleteDetailPage = lazy(() => import('./v2/features/athletes/pages/AthleteDetailPage'));
```

Also remove the `// V2 routes (new)` comment line.

**Step 4: Remove duplicate route definitions at bottom of App.jsx.**

Lines 608-612 are duplicates of lines 602-606. Remove the second set:
```jsx
// Remove these duplicate lines:
{/* 404 fallback */}
<Route path="/legacy/*" element={<LegacyRedirect />} />
{/* Beta routes — redirect to /app for bookmark compatibility */}
<Route path="/beta/*" element={<LegacyRedirect />} />
```

Keep the first set (lines 602-606).
  </action>
  <verify>
Run `npm run build` — should succeed with zero errors.
Verify `src/v2/pages/` only contains the `canvas/` directory.
Verify App.jsx has no imports from deleted V2 pages.
  </verify>
  <done>30 dead V2 page files deleted, App.jsx cleaned of 25 dead imports and duplicate routes, build passes</done>
</task>

<task type="auto">
  <name>Task 3: Build verification</name>
  <files>dist/</files>
  <action>
Run the full verification protocol:
1. `npm run build` — must succeed
2. `npx tsc --noEmit 2>&1 | head -20` — check for type errors (warnings OK)
3. `npm run test:run 2>&1 | tail -20` — check test results (some may fail if they import deleted pages — note any failures)

If tests fail due to importing deleted pages, delete those test files as well (they test dead code).

Commit the changes:
```bash
git add -A
git commit -m "chore(36-01): remove 30 dead V2 pages and clean App.jsx imports

- Delete 27 non-Canvas V2 pages (warm/copper design)
- Delete 3 feature-specific dead pages (AthleteDetailPage, AthletesRosterPage, SettingsPage)
- Remove 25 dead lazy imports from App.jsx
- Remove duplicate /legacy and /beta route definitions
- Record baseline bundle size for comparison"
```
  </action>
  <verify>`npm run build` succeeds, git log shows commit</verify>
  <done>Plan 01 complete — dead V2 pages removed, App.jsx clean, build passes, committed</done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds with zero errors
2. `src/v2/pages/` contains only the `canvas/` subdirectory
3. App.jsx contains no imports from `@v2/pages/BetaHome`, `@v2/pages/MeDashboard`, etc.
4. No duplicate /legacy or /beta routes in App.jsx
5. Baseline bundle size recorded in 36-BASELINE.md
</verification>

<success_criteria>
- 30 dead V2 page files deleted
- App.jsx reduced by ~25 import lines and 4 duplicate route lines
- Build passes
- Baseline bundle size documented
</success_criteria>

<output>
After completion, create `.planning/phases/36-dead-code-cleanup/36-01-SUMMARY.md`
</output>
